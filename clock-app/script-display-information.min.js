!function(){"use strict";const html=document.getElementsByTagName("html")[0],weekNumber=document.getElementById("weekNumber"),dayOfWeek=document.getElementById("dayOfWeek"),dayOfYear=document.getElementById("dayOfYear"),d=new Date;let isWaiting=!0;function getDayOfYear(date){return Math.floor((date-new Date(date.getFullYear(),0,0))/1e3/60/60/24)}function getNumberOfWeek(date){let toDate=new Date(date.valueOf()),dayNumber=(date.getDay()+6)%7;toDate.setDate(toDate.getDate()-dayNumber+3);let firstThursday=toDate.valueOf();return toDate.setMonth(0,1),4!==toDate.getDay()&&toDate.setMonth(0,1+(4-toDate.getDay()+7)%7),1+Math.ceil((firstThursday-toDate)/6048e5)}async function fetchCountryCity(){const freeGeoURL="https://freegeoip.app/json/";await fetch(freeGeoURL).then(response=>response.json()).then(data=>{const locationData=data,city=document.getElementById("city"),country=document.getElementById("country");city.innerHTML=locationData.city,country.innerHTML=locationData.country_code,timezone.innerHTML=locationData.time_zone,weekNumber.innerHTML=getNumberOfWeek(d),dayOfWeek.innerHTML=d.getDay(),dayOfYear.innerHTML=getDayOfYear(d)}).then(()=>{isWaiting=!1,html.classList.add("not-loading"),html.addEventListener("transitionend",()=>{html.classList.remove("is-loading")})})}isWaiting&&html.classList.add("is-loading"),fetchCountryCity()}();